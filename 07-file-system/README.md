# 파일시스템

리눅스에서는 저장 장치 안의 데이터에 접근 할 때 일반적으로 직접 저장 장치에 접근하지 않고 편의를 위해 파일시스템을 통해 접근한다.

컴퓨터 시스템에 파일시스템이 있는 것은 당연한 일처럼 여겨지지만, 파일시스템이 없는 세상을 상상해보며 **파일시스템의 필요성**에 대해 살펴보자.

저장 장치의 기능은 단순하게 말하면 '저장 장치 안에 지정된 주소에 대해 특정 사이즈의 데이터를 읽거나 쓰는 것'이다. 만약 파일시스템이 없다면 저장 장치에 쓰고 읽기 위해서는 다음과 같은 정보를 별도로 관리해야 한다.

![모든 데이터에 대해 보관한 주소, 사이즈를 관리할 필요가 있음](/images/07-file-system/7-2.png)  

이러한 복잡한 처리를 피하고자, 어디에 어느 정도의 데이터가 있는지, 어디가 빈 영역인지를 관리하는 방식이 파일시스템이다.

### 파일 시스템의 역할
파일 시스템은 사용자에 의미가 있는 하나의 데이터를 **이름, 위치, 사이즈** 등의 **보조 정보**를 추가하여 **파일**이라는 단위로 관리한다. 어느 장소에 어떤 파일을 배피할 지 등의 데이터 구조는 사양으로 미리 정하며, 커널 내부에서 파일시스템을 다루기 위한 처리가 사양을 바탕으로 데이터를 다루게 된다.

![단순한 파일시스템의 예](/images/07-file-system/7-3.png)  

사용자가(정확히는 사용자의 프로세스가) 파일 읽기 시스템 콜을 사용하여 파일 이름과 파일상의 오프셋 및 사이즈를 지정하면 파일시스템을 다루는 처리가 해당하는 데이터를 찾아서 사용자에게 전달한다.

![파일 이름, 파일상의 오프셋, 사이즈를 지정하면 해당하는 데이터를 읽을 수 있음](/images/07-file-system/7-4.png)  

### 리눅스의 파일 시스템
파일을 카테고리 별로 정리할 수 있도록 리눅스의 파일시스템에는 디렉터리(directory)라고 부르는 파일을 보관하는 특수한 파일이 존재한다. 이를 위해 리눅스의 파일시스템은 **트리 구조**로 되어 있다.

![트리 구조의 파일시스템](/images/07-file-system/7-5.png) 
